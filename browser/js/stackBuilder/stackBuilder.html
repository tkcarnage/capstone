<section id="stackcreator">
    <div class='inner'>
        <div class="md-whiteframe-2dp">
            <md-toolbar class="md-primary md-hue-1">
                <div class="md-toolbar-tools ">
                    <span>Create a Stack</span>
                </div>
            </md-toolbar>
            <md-content layout-padding>
                <div layout="column" ng-cloak class="md-inline-form">
                    <form name="stackForm">
                        <md-content layout-padding>
                            <div layout-gt-sm="row">
                                <md-input-container class="md-block" flex-gt-sm>
                                <label>Stack Name</label>
                                    <input name="name" ng-model="stack.name" required>
                                    <div ng-messages="stackForm.name.$error">
                                        <div ng-message="required">Stack name is required.</div>
                                    </div>
                                </md-input-container>
                            </div>
                        <div layout-gt-sm="row">
                            <div layout-gt-sm="column">
                                <h4>Tests available for your stack</h4>
                                <span ng-repeat='test in tests'>
                                <md-button class="btn btn-xs" ng-click="addToStack(test)" ng-disabled="stack.tests.indexOf(test) !== -1"><md-icon class="material-icons">add</md-icon>Add {{test.name}}, {{test.method}}, {{test.url}}</md-button>
                                </span>
                            </div>
                            <span flex></span>
                            <div layout-gt-sm="column">
                                <h4 ng-show="stack.tests.length">Tests in your stack</h4>
                                <span ng-repeat='test in stack.tests'>
                                    <md-button class="btn btn-xs" ng-click="removeFromStack($index)"><md-icon class="material-icons">delete</md-icon>Remove {{test.name}}</md-button>
                                </span>
                            </div>
                        </div>  
                        <div layout-gt-sm="row">
                            <h4><strong>{{stack.tests.length}}</strong> tests currently in stack</h4>
                            <span flex></span>
                            <md-button>Run Stack</md-button>
                            <md-button type="submit" class="md-raised md-accent" ng-click="submitStack()">Save Stack</md-button>
                        </div>
                        </md-content>
                    </form>
                </div>
            </div>
        </md-content>
    </div>
</div>
</section>
